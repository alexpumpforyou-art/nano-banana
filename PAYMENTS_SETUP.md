# üí≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ Telegram Stars

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ Telegram Stars —É–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –∫–æ–¥–µ! –í–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—ã.

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω

### 1. –õ–æ–∫–∞–ª—å–Ω–æ (–≤ —Ñ–∞–π–ª–µ `.env`)

```env
TOKENS_PER_STAR=2000
FREE_TOKENS=200
ADMIN_TELEGRAM_ID=–≤–∞—à_telegram_id
```

### 2. –ù–∞ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç: https://railway.app
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Variables**
3. –î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
   - `TOKENS_PER_STAR` = 2000 (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
   - `FREE_TOKENS` = 200
   - `ADMIN_TELEGRAM_ID` = –≤–∞—à ID
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ - –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

## üéØ –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à Telegram ID?

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot –≤ Telegram
2. –û–Ω –ø—Ä–∏—à–ª–µ—Ç –≤–∞—à ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123456789`)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç ID –≤ `ADMIN_TELEGRAM_ID`

## üí∞ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞—Ç–µ–∂–∏?

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –ù–∞–∂–∏–º–∞–µ—Ç `/buy` –≤ –±–æ—Ç–µ
2. –í—ã–±–∏—Ä–∞–µ—Ç –ø–∞–∫–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤
3. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Telegram Stars
4. –¢–æ–∫–µ–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Stars ‚Üí –í–∞—à Telegram ‚Üí Webhook ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

–ü–∞–∫–µ—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ `TOKENS_PER_STAR`:

| Stars | –ë–æ–Ω—É—Å | –¢–æ–∫–µ–Ω—ã (–ø—Ä–∏ TOKENS_PER_STAR=2000) |
|-------|-------|------------------------------------|
| 1     | 0%    | 2,000                              |
| 5     | +10%  | 11,000                             |
| 10    | +20%  | 24,000                             |
| 25    | +30%  | 65,000                             |
| 50    | +50%  | 150,000                            |

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:

```javascript
const TOKENS_PER_STAR = 2000; // –ë–∞–∑–æ–≤—ã–π –∫—É—Ä—Å

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–∞–∫–µ—Ç—ã —Å –±–æ–Ω—É—Å–∞–º–∏
{ stars: 5, tokens: TOKENS_PER_STAR * 5 * 1.1 }  // +10%
{ stars: 10, tokens: TOKENS_PER_STAR * 10 * 1.2 } // +20%
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–∞–∂

### –ö–æ–º–∞–Ω–¥–∞ `/stats` (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Nano Banana

üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
‚îî –í—Å–µ–≥–æ: 42

üí∞ –ü—Ä–æ–¥–∞–∂–∏:
‚îî –í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫: 15
‚îî –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 75 ‚≠ê
‚îî –°—Ä–µ–¥–Ω–∏–π —á–µ–∫: 5.0 ‚≠ê

ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏:
‚îî –í—Å–µ–≥–æ: 230
‚îî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 12,500
‚îî –ó–∞ 24 —á–∞—Å–∞: 45

üíµ –§–∏–Ω–∞–Ω—Å—ã (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ):
‚îî –î–æ—Ö–æ–¥: $0.75
‚îî –ó–∞—Ç—Ä–∞—Ç—ã API: $0.15
‚îî –ü—Ä–∏–±—ã–ª—å: $0.60
```

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npm start

# –ò–ª–∏ –Ω–∞ Railway - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
2. –ù–∞–ø–∏—à–∏—Ç–µ `/buy`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π –ø–∞–∫–µ—Ç (1 Star)
4. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –æ–ø–ª–∞—Ç—É
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ `/balance`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
Railway ‚Üí Deployments ‚Üí View Logs

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üí∞ –£—Å–ø–µ—à–Ω—ã–π –ø–ª–∞—Ç–µ–∂: 1 Stars –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123456789
‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã: 2000 ‚Üí –±–∞–ª–∞–Ω—Å: 2200
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### Telegram Stars - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. **–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–æ–±—Ä–µ–Ω –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π**
   - –û–±—ã—á–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
   - –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –Ω–∞–ø–∏—à–∏—Ç–µ –≤ @BotSupport

2. **–í–∞–ª—é—Ç–∞ XTR**
   - –≠—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–¥ Telegram Stars
   - `provider_token` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º

3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞**
   - 1 Star - –º–∏–Ω–∏–º—É–º –¥–ª—è –æ–ø–ª–∞—Ç—ã
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 1-100 Stars

### –ù–∞–ª–æ–≥–∏:
- Telegram –≤—ã—á–∏—Ç–∞–µ—Ç ~30% –∫–æ–º–∏—Å—Å–∏—é
- –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ ~70% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ Stars
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —ç—Ç–æ –≤ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Payment provider is not supported"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- `provider_token` –ø—É—Å—Ç–æ–π (`''`)
- –í–∞–ª—é—Ç–∞: `XTR`
- –ë–æ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

### –û—à–∏–±–∫–∞: "Invoice payload is too long"
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∫—Ä–∞—Ç–∏—Ç–µ payload –≤ –∫–æ–¥–µ:
```javascript
`payload_${chatId}_${Date.now()}` // –£–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
```

### –ü–ª–∞—Ç–µ–∂ –ø—Ä–æ—à–µ–ª, –Ω–æ —Ç–æ–∫–µ–Ω—ã –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   ```sql
   SELECT * FROM transactions WHERE type = 'purchase' ORDER BY created_at DESC LIMIT 10;
   ```
3. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –≤—Ä—É—á–Ω—É—é –Ω–∞—á–∏—Å–ª–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ –±–∞–∑—É

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

### 1. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É —Å–æ —Å–∫–∏–¥–∫–æ–π
```javascript
// –í –∫–æ–¥–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
if (userPurchases === 0) {
  // –ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞ - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
}
```

### 2. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –±–∞–ª–∞–Ω—Å–µ
- –ü—Ä–∏ –±–∞–ª–∞–Ω—Å–µ < 100 —Ç–æ–∫–µ–Ω–æ–≤
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- "24 —á–∞—Å–∞: +100% –±–æ–Ω—É—Å –Ω–∞ –ø–∞–∫–µ—Ç 10‚òÖ"
- –°–æ–∑–¥–∞–µ—Ç urgency

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ü–µ–Ω—ã** –≤ Railway Variables
2. **–ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Telegram ID** —á–µ—Ä–µ–∑ @userinfobot
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–ª–∞—Ç–µ–∂** (–∫—É–ø–∏—Ç–µ 1 Star –ø–∞–∫–µ—Ç)
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/stats`**
5. **–ù–∞—á–Ω–∏—Ç–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ!**

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot Payments API](https://core.telegram.org/bots/payments)
- [PRICING_GUIDE.md](./PRICING_GUIDE.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é
- [PROJECT_HISTORY.md](./PROJECT_HISTORY.md) - –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

**–í–∞–∂–Ω–æ**: –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—ã –∏ –≤–∞—à Telegram ID. üöÄ

